{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/customers.service\";\nimport * as i2 from \"../../../core/auth/auth.service\";\nimport * as i3 from \"@angular/common\";\nfunction CustomerInfoComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.customer.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Email: \", ctx_r0.customer.email, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Member since: \", i0.ɵɵpipeBind1(7, 3, ctx_r0.customer.createdAt), \"\");\n  }\n}\nfunction CustomerInfoComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"No customer data available\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CustomerInfoComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Loading customer information...\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CustomerInfoComponent {\n  customersService;\n  authService;\n  customer;\n  loading = true;\n  constructor(customersService, authService) {\n    this.customersService = customersService;\n    this.authService = authService;\n  }\n  ngOnInit() {\n    const userId = this.authService.currentUserId;\n    if (userId) {\n      this.loadCustomer(userId);\n    }\n  }\n  loadCustomer(userId) {\n    this.loading = true;\n    this.customersService.getCustomer(userId).subscribe({\n      next: customer => {\n        this.customer = customer;\n        this.loading = false;\n      },\n      error: error => {\n        console.error('Error loading customer:', error);\n        this.loading = false;\n      }\n    });\n  }\n  static ɵfac = function CustomerInfoComponent_Factory(t) {\n    return new (t || CustomerInfoComponent)(i0.ɵɵdirectiveInject(i1.CustomersService), i0.ɵɵdirectiveInject(i2.AuthService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CustomerInfoComponent,\n    selectors: [[\"app-customer-info\"]],\n    decls: 3,\n    vars: 3,\n    consts: [[4, \"ngIf\"]],\n    template: function CustomerInfoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CustomerInfoComponent_div_0_Template, 8, 5, \"div\", 0);\n        i0.ɵɵtemplate(1, CustomerInfoComponent_div_1_Template, 2, 0, \"div\", 0);\n        i0.ɵɵtemplate(2, CustomerInfoComponent_div_2_Template, 2, 0, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.customer);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.customer && !ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      }\n    },\n    dependencies: [i3.NgIf, i3.DatePipe],\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","customer","name","ɵɵtextInterpolate1","email","ɵɵpipeBind1","createdAt","CustomerInfoComponent","customersService","authService","loading","constructor","ngOnInit","userId","currentUserId","loadCustomer","getCustomer","subscribe","next","error","console","ɵɵdirectiveInject","i1","CustomersService","i2","AuthService","selectors","decls","vars","consts","template","CustomerInfoComponent_Template","rf","ctx","ɵɵtemplate","CustomerInfoComponent_div_0_Template","CustomerInfoComponent_div_1_Template","CustomerInfoComponent_div_2_Template","ɵɵproperty"],"sources":["/home/tiagoadp/TRABALHO/personal/curotec/frontend/src/app/features/customers/customer-info/customer-info.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CustomersService } from '../../../core/services/customers.service';\nimport { AuthService } from '../../../core/auth/auth.service';\nimport { Customer } from 'src/app/core/models/customer.model';\n\n@Component({\n  selector: 'app-customer-info',\n  template: `\n    <div *ngIf=\"customer\">\n      <h2>{{ customer.name }}</h2>\n      <p>Email: {{ customer.email }}</p>\n      <p>Member since: {{ customer.createdAt | date }}</p>\n    </div>\n    <div *ngIf=\"!customer && !loading\">No customer data available</div>\n    <div *ngIf=\"loading\">Loading customer information...</div>\n  `\n})\nexport class CustomerInfoComponent implements OnInit {\n  customer?: Customer;\n  loading = true;\n\n  constructor(\n    private customersService: CustomersService,\n    private authService: AuthService\n  ) {}\n\n  ngOnInit() {\n    const userId = this.authService.currentUserId;\n    if (userId) {\n      this.loadCustomer(userId);\n    }\n  }\n\n  private loadCustomer(userId: number): void {\n    this.loading = true;\n    this.customersService.getCustomer(userId).subscribe({\n      next: (customer) => {\n        this.customer = customer;\n        this.loading = false;\n      },\n      error: (error) => {\n        console.error('Error loading customer:', error);\n        this.loading = false;\n      }\n    });\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}