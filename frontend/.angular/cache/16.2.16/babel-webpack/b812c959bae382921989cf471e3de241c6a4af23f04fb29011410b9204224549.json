{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { createEffect, ofType } from '@ngrx/effects';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { loadOrders, loadOrdersFailure, loadOrdersSuccess } from './orders.actions';\nexport let OrdersEffects = class OrdersEffects {\n  actions$;\n  ordersService;\n  loadOrders$ = createEffect(() => this.actions$.pipe(ofType(loadOrders), mergeMap(() => this.ordersService.getOrders().pipe(map(orders => loadOrdersSuccess({\n    orders\n  })), catchError(error => [loadOrdersFailure({\n    error: error.message\n  })])))));\n  constructor(actions$, ordersService) {\n    this.actions$ = actions$;\n    this.ordersService = ordersService;\n  }\n};\nOrdersEffects = __decorate([Injectable()], OrdersEffects);","map":{"version":3,"names":["Injectable","createEffect","ofType","catchError","map","mergeMap","loadOrders","loadOrdersFailure","loadOrdersSuccess","OrdersEffects","actions$","ordersService","loadOrders$","pipe","getOrders","orders","error","message","constructor","__decorate"],"sources":["/home/tiagoadp/TRABALHO/personal/curotec/frontend/src/app/features/orders/state/orders.effects.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { OrdersService } from '../../../core/services/orders.service';\nimport { loadOrders, loadOrdersFailure, loadOrdersSuccess } from './orders.actions';\n\n@Injectable()\nexport class OrdersEffects {\n  loadOrders$ = createEffect(() =>\n    this.actions$.pipe(\n      ofType(loadOrders),\n      mergeMap(() =>\n        this.ordersService.getOrders().pipe(\n          map(orders => loadOrdersSuccess({ orders })),\n          catchError(error => [loadOrdersFailure({ error: error.message })])\n        )\n      )\n    )\n  );\n\n  constructor(\n    private actions$: Actions,\n    private ordersService: OrdersService\n  ) {}\n}\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAAkBC,YAAY,EAAEC,MAAM,QAAQ,eAAe;AAC7D,SAASC,UAAU,EAAEC,GAAG,EAAEC,QAAQ,QAAQ,gBAAgB;AAE1D,SAASC,UAAU,EAAEC,iBAAiB,EAAEC,iBAAiB,QAAQ,kBAAkB;AAG5E,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAcdC,QAAA;EACAC,aAAA;EAdVC,WAAW,GAAGX,YAAY,CAAC,MACzB,IAAI,CAACS,QAAQ,CAACG,IAAI,CAChBX,MAAM,CAACI,UAAU,CAAC,EAClBD,QAAQ,CAAC,MACP,IAAI,CAACM,aAAa,CAACG,SAAS,EAAE,CAACD,IAAI,CACjCT,GAAG,CAACW,MAAM,IAAIP,iBAAiB,CAAC;IAAEO;EAAM,CAAE,CAAC,CAAC,EAC5CZ,UAAU,CAACa,KAAK,IAAI,CAACT,iBAAiB,CAAC;IAAES,KAAK,EAAEA,KAAK,CAACC;EAAO,CAAE,CAAC,CAAC,CAAC,CACnE,CACF,CACF,CACF;EAEDC,YACUR,QAAiB,EACjBC,aAA4B;IAD5B,KAAAD,QAAQ,GAARA,QAAQ;IACR,KAAAC,aAAa,GAAbA,aAAa;EACpB;CACJ;AAjBYF,aAAa,GAAAU,UAAA,EADzBnB,UAAU,EAAE,C,EACAS,aAAa,CAiBzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}